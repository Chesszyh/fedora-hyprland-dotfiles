# 欢迎使用 nvimdots 教程

nvimdots 是一个为 [Neovim](https://neovim.io/) 设计的配置套件，兼顾可扩展性、性能与易用性。
它既能处理各种文本文件，又能提供接近 IDE 的使用体验。

本教程将带你一步步学习如何利用这套配置，把 Neovim 当作一个强大的代码编辑器来使用。

作为一个现代化的 Neovim 配置，它包含你需要的一切功能：代码补全、（部分）代码测试、Tree-sitter、DAP、模糊搜索等等。
它集成了社区中最新、最先进的 Neovim 插件，提供最佳用户体验。

默认的 [<leader>](leader) 键是 **`<Space>`**。

完成本教程大约需要 5 分钟，当然，具体时间取决于你自己探索的速度。

---

## 第 1.1 节：UI 说明

已打开的 buffer 会显示在顶部，你可以用 **`<A-i>`** 和 **`<A-o>`** 在它们之间切换。
另外，按 **`<A-n>`**（n 为 1-9 的数字）可以直接切到指定的 buffer。

> 注意：macOS 用户可能需要将 `<Option>`(⌥) 键映射为 `<Alt>`，
> 具体方法见 [这里](https://github.com/ayamir/nvimdots/issues/344)。

按 **`<C-n>`** 可以切换文件树（file explorer），它会显示在左侧。
将光标移动到 **lua** 文件夹那一行，按 **o** 打开它，
继续重复这个步骤直到进入 **core** 文件夹，然后再用 **o** 打开 **event.lua**。

要在文件树与 buffer 之间切换，可用 **`<C-h>`** 和 **`<C-l>`**。
后面我们不再需要文件树，可以再按一次 **`<C-n>`** 关闭它。

按 **`<C-w>v`** 可以垂直分割窗口。
然后用 **`<A-i>`** 切换到右侧窗口的 **event.lua** buffer。
用 **`<A-h>`** 和 **`<A-l>`** 可以调整右侧窗口宽度（长按可连续调整）。

回到左侧窗口，底部状态栏会显示如下信息：

```
--------------------------------------------------------------------------------
|Normal|󰢱 lua|main| 1|󱜙 [lua_ls,null-ls] UTF-8 LF  4|󱃪 ~/.config/nvim|4% 50:1|
--------------------------------------------------------------------------------
```

* `Normal` → 编辑模式
* `󰢱 lua` → 文件类型
* `main` → Git 分支
* ` 1` → Git 状态（有 1 个改动）
* `[lua_ls,null-ls]` → 已连接的 LSP
* `UTF-8` → 字符编码
* `LF` → 换行符格式
* ` 4` → Tab 宽度
* `~/.config/nvim` → 工作目录
* `4% 50:1` → 光标位置（文件百分比、行:列）

如果切到右窗口并移动光标到第二行，可能会看到：

```
-------------------------------------------------------------------------------
|Normal|󰢱 lua|main| 󰅩 autocmd                  |~/.config/nvim|utf-8|LF|1%|2:1|
-------------------------------------------------------------------------------
```

`󰅩 autocmd` 表示这一行包含名为 `autocmd` 的变量。
这依赖 LSP 提供功能，如果没有对应 LSP，则不会显示。

按 **`<leader>li`** 可以查看 LSP 信息，此时会看到有两个 LSP 客户端连接到了这个 buffer。

按 **`go`** 可以切换代码大纲（显示当前文件的所有符号），它会出现在最右侧窗口。
每个窗口旁的滚动条可以拖动，并指示光标位置。

> 注意：切回 dotstutor 窗口前，要先关闭代码大纲（`go`），因为它基于 LSP，切换到没有 LSP 的 buffer 会变空。

切回左窗口再看 LSP 信息，会发现没有 LSP 连接，说明这个 buffer 没有匹配的 LSP。

---

## 第 1.2 节：查找与搜索

nvimdots 使用 [telescope.nvim](https://github.com/nvim-telescope/telescope.nvim) 作为主要模糊查找工具。

* **`<leader>ff`** → 在当前工作目录查找文件

  * 输入关键字后用 **`<C-p>`** / **`<C-n>`** 选择结果
  * **`<Enter>`** 打开文件
  * **`<Tab>`** / **`<S-Tab>`** 切换不同查找模式（如 Frecency、Oldfiles、Buffers）

* **`<leader>fp`** → 在当前目录全文搜索（基于 [ripgrep](https://github.com/BurntSushi/ripgrep)）

  * 同样支持 `<Tab>` / `<S-Tab>` 切换模式
  * “Word under cursor” 选项会查找光标下的单词

* **`<leader>fd`** → 会话与项目管理

  * 第一栏是已保存的会话（选中 + **Enter** 恢复）
  * 第二栏是项目列表（**`<C-a>`** 添加当前目录，**`<C-d>`** 删除）

---

## 第 1.3 节：编辑与格式化

补全窗口总是会出现：

* `<Tab>` / `<S-Tab>` → 下一个/上一个候选项
* `<CR>` → 确认补全
* `<C-n>` / `<C-p>` / `<C-y>` → 另一套快捷键
* `<C-w>` → 关闭补全窗口

LSP 提供：

* 智能重命名
* 查找引用
* 跳转定义
* 查看函数文档
* 这些快捷键都直观易记

代码片段（Snippet）：

* `<Tab>` → 片段中的下一个位置
* `<S-Tab>` → 上一个位置

保存时自动格式化：

* 默认开启
* **`<A-f>`** → 临时关闭
* 永久关闭 → 在 `lua/user/settings.lua` 添加：

  ```lua
  settings["format_on_save"] = false
  ```
* 针对单一语言临时关闭：

  ```
  :FormatterToggleFt {language_name}
  ```

---

## 第 1 节总结

你已经学会了 nvimdots 60% 的功能。
剩下的 40% 在于掌握 Neovim 的基本操作。
如果你是老用户，可以直接用这些增强过的功能。
更多内容请看：[https://github.com/ayamir/nvimdots/wiki](https://github.com/ayamir/nvimdots/wiki)

最后：

* 随时按 **`<C-p>`** → 打开命令面板，搜索所有快捷键。